{"ast":null,"code":"import axios from 'axios';\nimport { create } from 'zustand';\nimport debounce from '../helpers/debounce';\nconst homeStore = create(set => ({\n  coins: [],\n  trending: [],\n  query: '',\n  setQuery: event => {\n    set({\n      query: event.target.value\n    });\n    homeStore.getState().searchCoins();\n  },\n  searchCoins: debounce(async () => {\n    const {\n      query\n    } = homeStore.getState();\n    const res = await axios.get(`https://api.coingecko.com/api/v3/search?query=${query}`);\n    if (query.length > 2) {\n      const coins = res.data.coins.map(coin => {\n        return {\n          name: coin.name,\n          image: coin.large,\n          id: coin.id,\n          // priceBtc: coin.item.price_btc,\n          symbol: coin.symbol\n        };\n      });\n      console.log(res);\n      set({\n        coins,\n        trending: coins\n      });\n    } else {}\n  }, 500),\n  fetchCoins: async () => {\n    const res = await axios.get('https://api.coingecko.com/api/v3/search/trending');\n    const coins = res.data.coins.map(coin => {\n      return {\n        name: coin.item.name,\n        image: coin.item.large,\n        id: coin.item.id,\n        priceBtc: coin.item.price_btc,\n        symbol: coin.item.symbol\n      };\n    });\n    set({\n      coins: coins\n    });\n    // console.log(coins);\n  }\n}));\n\nexport default homeStore;","map":{"version":3,"names":["axios","create","debounce","homeStore","set","coins","trending","query","setQuery","event","target","value","getState","searchCoins","res","get","length","data","map","coin","name","image","large","id","symbol","console","log","fetchCoins","item","priceBtc","price_btc"],"sources":["/Users/richardhills/bootcamp/project-2/crypto_tracker/src/stores/homeStore.js"],"sourcesContent":["import axios from 'axios';\nimport { create } from 'zustand'\nimport debounce from '../helpers/debounce';\n\nconst homeStore = create((set) => ({\n  coins: [],\n  trending: [],\n  query: '',\n\n  setQuery: (event) => {\n    set({query: event.target.value})\n    homeStore.getState().searchCoins()\n  },\n\n  searchCoins: debounce( async () => {\n    const {query} = homeStore.getState()\n    const res = await axios.get(`https://api.coingecko.com/api/v3/search?query=${query}`)\n\n    if (query.length > 2) {\n\n    const coins = res.data.coins.map(coin => {\n      return {\n        name: coin.name,\n        image: coin.large,\n        id: coin.id,\n        // priceBtc: coin.item.price_btc,\n        symbol: coin.symbol,\n\n      }\n    })\nconsole.log(res);\nset({coins, trending: coins})\n  } else {\n\n  }\n\n  }, 500),\n\n  fetchCoins: async () => {\n    const res = await axios.get('https://api.coingecko.com/api/v3/search/trending')\n\n    const coins = res.data.coins.map(coin => {\n      return {\n        name: coin.item.name,\n        image: coin.item.large,\n        id: coin.item.id,\n        priceBtc: coin.item.price_btc,\n        symbol: coin.item.symbol,\n      }\n    })\n    set({coins: coins});\n    // console.log(coins);\n  }\n}))\n\nexport default homeStore;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,SAAS;AAChC,OAAOC,QAAQ,MAAM,qBAAqB;AAE1C,MAAMC,SAAS,GAAGF,MAAM,CAAEG,GAAG,KAAM;EACjCC,KAAK,EAAE,EAAE;EACTC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE,EAAE;EAETC,QAAQ,EAAGC,KAAK,IAAK;IACnBL,GAAG,CAAC;MAACG,KAAK,EAAEE,KAAK,CAACC,MAAM,CAACC;IAAK,CAAC,CAAC;IAChCR,SAAS,CAACS,QAAQ,EAAE,CAACC,WAAW,EAAE;EACpC,CAAC;EAEDA,WAAW,EAAEX,QAAQ,CAAE,YAAY;IACjC,MAAM;MAACK;IAAK,CAAC,GAAGJ,SAAS,CAACS,QAAQ,EAAE;IACpC,MAAME,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAE,iDAAgDR,KAAM,EAAC,CAAC;IAErF,IAAIA,KAAK,CAACS,MAAM,GAAG,CAAC,EAAE;MAEtB,MAAMX,KAAK,GAAGS,GAAG,CAACG,IAAI,CAACZ,KAAK,CAACa,GAAG,CAACC,IAAI,IAAI;QACvC,OAAO;UACLC,IAAI,EAAED,IAAI,CAACC,IAAI;UACfC,KAAK,EAAEF,IAAI,CAACG,KAAK;UACjBC,EAAE,EAAEJ,IAAI,CAACI,EAAE;UACX;UACAC,MAAM,EAAEL,IAAI,CAACK;QAEf,CAAC;MACH,CAAC,CAAC;MACNC,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChBV,GAAG,CAAC;QAACC,KAAK;QAAEC,QAAQ,EAAED;MAAK,CAAC,CAAC;IAC3B,CAAC,MAAM,CAEP;EAEA,CAAC,EAAE,GAAG,CAAC;EAEPsB,UAAU,EAAE,YAAY;IACtB,MAAMb,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAC,kDAAkD,CAAC;IAE/E,MAAMV,KAAK,GAAGS,GAAG,CAACG,IAAI,CAACZ,KAAK,CAACa,GAAG,CAACC,IAAI,IAAI;MACvC,OAAO;QACLC,IAAI,EAAED,IAAI,CAACS,IAAI,CAACR,IAAI;QACpBC,KAAK,EAAEF,IAAI,CAACS,IAAI,CAACN,KAAK;QACtBC,EAAE,EAAEJ,IAAI,CAACS,IAAI,CAACL,EAAE;QAChBM,QAAQ,EAAEV,IAAI,CAACS,IAAI,CAACE,SAAS;QAC7BN,MAAM,EAAEL,IAAI,CAACS,IAAI,CAACJ;MACpB,CAAC;IACH,CAAC,CAAC;IACFpB,GAAG,CAAC;MAACC,KAAK,EAAEA;IAAK,CAAC,CAAC;IACnB;EACF;AACF,CAAC,CAAC,CAAC;;AAEH,eAAeF,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}