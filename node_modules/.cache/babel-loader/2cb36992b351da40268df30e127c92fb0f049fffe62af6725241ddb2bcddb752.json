{"ast":null,"code":"import axios from 'axios';\nimport { create } from 'zustand';\nconst showStore = create(set => ({\n  graphData: [],\n  fetchData: async id => {\n    // this is the revert point\n    const [graphRes, dataRes] = await Promise.all([axios.get(`https://api.coingecko.com/api/v3/coins/${id}/market_chart?vs_currency=usd&days=90`), axios.get(`https://api.coingecko.com/api/v3/coins/${id}?localization=false`)]);\n    const graphData = graphRes.data.prices.map(price => {\n      const [timeStamp, p] = price;\n      const date = new Date(timeStamp).toLocaleDateString('en-uk');\n      return {\n        Date: date,\n        Price: p\n      };\n    });\n    set({\n      graphData: graphData\n    });\n    console.log(dataRes);\n  }\n}));\nexport default showStore;","map":{"version":3,"names":["axios","create","showStore","set","graphData","fetchData","id","graphRes","dataRes","Promise","all","get","data","prices","map","price","timeStamp","p","date","Date","toLocaleDateString","Price","console","log"],"sources":["/Users/zak/zaksweb/bootcamp/BootCamp/crypto_tracker/src/stores/showStore.js"],"sourcesContent":["import axios from 'axios';\nimport { create } from 'zustand'\n\n\nconst showStore = create((set) => ({\n    graphData: [],\n\n    fetchData: async (id) => {\n        // this is the revert point\n        const [graphRes, dataRes] = await Promise.all([\n            axios.get(`https://api.coingecko.com/api/v3/coins/${id}/market_chart?vs_currency=usd&days=90`),\n            axios.get(`https://api.coingecko.com/api/v3/coins/${id}?localization=false`)\n        ])\n\n        const graphData = graphRes.data.prices.map((price) => {\n            const [timeStamp, p] = price;\n            const date = new Date(timeStamp).toLocaleDateString('en-uk')\n            return {\n                Date: date,\n                Price: p,\n            };\n        })\n\n        set({ graphData: graphData })\n        console.log(dataRes);\n    }\n}))\n\nexport default showStore"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,SAAS;AAGhC,MAAMC,SAAS,GAAGD,MAAM,CAAEE,GAAG,KAAM;EAC/BC,SAAS,EAAE,EAAE;EAEbC,SAAS,EAAE,MAAOC,EAAE,IAAK;IACrB;IACA,MAAM,CAACC,QAAQ,EAAEC,OAAO,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC1CV,KAAK,CAACW,GAAG,CAAE,0CAAyCL,EAAG,uCAAsC,CAAC,EAC9FN,KAAK,CAACW,GAAG,CAAE,0CAAyCL,EAAG,qBAAoB,CAAC,CAC/E,CAAC;IAEF,MAAMF,SAAS,GAAGG,QAAQ,CAACK,IAAI,CAACC,MAAM,CAACC,GAAG,CAAEC,KAAK,IAAK;MAClD,MAAM,CAACC,SAAS,EAAEC,CAAC,CAAC,GAAGF,KAAK;MAC5B,MAAMG,IAAI,GAAG,IAAIC,IAAI,CAACH,SAAS,CAAC,CAACI,kBAAkB,CAAC,OAAO,CAAC;MAC5D,OAAO;QACHD,IAAI,EAAED,IAAI;QACVG,KAAK,EAAEJ;MACX,CAAC;IACL,CAAC,CAAC;IAEFd,GAAG,CAAC;MAAEC,SAAS,EAAEA;IAAU,CAAC,CAAC;IAC7BkB,OAAO,CAACC,GAAG,CAACf,OAAO,CAAC;EACxB;AACJ,CAAC,CAAC,CAAC;AAEH,eAAeN,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}